const indexOfPatternControl=(t,e,o=1)=>t?.indexOf(e,o),lastIndexOfPatternControl=(t,e,o=1)=>t?.lastIndexOf(e,o),dateControl=new Date,todayControl=`${dateControl.getDate()}/${dateControl.getMonth()+1}/`+dateControl.getFullYear(),tableContainerControl=document.createElement("div"),tableControl=(tableContainerControl.id="table-container",document.body.appendChild(tableContainerControl),document.createElement("table")),divControl=(tableControl.id="driver-table",tableContainerControl.appendChild(tableControl),document.createElement("div")),buttonTopControl=(divControl.style.position="fixed",divControl.style.bottom="10px",divControl.style.right="5px",document.createElement("button")),buttonControl=(buttonTopControl.style.display="block",buttonTopControl.style.marginBottom="10px",buttonTopControl.textContent="Top",buttonTopControl.style.width="45px",buttonTopControl.style.height="25px",divControl.appendChild(buttonTopControl),document.createElement("button")),headerRowControl=(buttonControl.style.display="block",buttonControl.textContent="Tabla",buttonControl.style.width="45px",buttonControl.style.height="25px",divControl.appendChild(buttonControl),document.body.appendChild(divControl),tableControl.insertRow(0)),headersControl=["Ruta","Nombre","Patente","ID Ruta","Entregados","Fallidos","Fecha","Horas","Minutos"],driverRowsControl=(headersControl.forEach(t=>{var e=document.createElement("th");e.textContent=t,e.setAttribute("data-sort-order","Descendente"),headerRowControl.appendChild(e)}),document.querySelectorAll(".row-link")),headerCellsControl=(driverRowsControl.forEach(t=>{var e=t.querySelector(".monitoring-row__bold").innerText,o=indexOfPatternControl(e,"#"),o=e.slice(o+1),n=t.querySelector(".monitoring-row-details__driver-name").innerText,l=t.querySelector(".monitoring-row-details__license")?.innerText,r=indexOfPatternControl(l,"|"),d=indexOfPatternControl(l,"|",r+1),l=l?.slice(r+2,d-1)||"-",r=t.querySelector(".monitoring-row-shipments__data").innerText,d={indexEntregados:0,indexFallidos:0,entregadosTwoDigits:!1,fallidosTwoDigits:!1,entregados:0,fallidos:0,idRuta:"",patente:"",fecha:"",horas:"",minutos:""},[t,a]=t.querySelector("div:nth-child(5) > div:nth-child(2)").innerText.split(":"),t=parseInt(t,10),a=parseInt(a?.trim().split(" ")[0],10),i=(d.indexFallidos=indexOfPatternControl(r,"|")+2," "===r[d.indexFallidos+1]?d.fallidosTwoDigits=!1:d.fallidosTwoDigits=!0,d.fallidos=d.fallidosTwoDigits?parseInt(r.slice(d.indexFallidos,d.indexFallidos+2)):parseInt(r.slice(d.indexFallidos,d.indexFallidos+1)),indexOfPatternControl(r,"entregados")||indexOfPatternControl(r,"entregado")),r=r.slice(0,i-1),i=d.fallidos,d=document.createElement("tr"),C=document.createElement("td"),e=(C.textContent=e,d.appendChild(C),document.createElement("td")),C=(e.textContent=n,d.appendChild(e),document.createElement("td")),n=(C.textContent=l,d.appendChild(C),document.createElement("td")),e=(n.textContent=o,d.appendChild(n),document.createElement("td")),l=(e.textContent=r,d.appendChild(e),document.createElement("td")),C=(l.textContent=i,d.appendChild(l),document.createElement("td")),o=(C.textContent=todayControl,d.appendChild(C),document.createElement("td")),n=(o.textContent=t,d.appendChild(o),document.createElement("td"));n.textContent=a,d.appendChild(n),tableControl.appendChild(d)}),document.querySelectorAll("#driver-table th"));headerCellsControl.forEach(e=>{e.addEventListener("click",()=>{console.log("Ordenado");const o=Array.from(headerCellsControl).indexOf(e);var t=Array.from(tableControl.querySelectorAll("tr")).slice(1);const n="Ascendente"===e.getAttribute("data-sort-order");t.sort((t,e)=>{t=t.cells[o].textContent.trim(),e=e.cells[o].textContent.trim();return 0===o?n?t.localeCompare(e):e.localeCompare(t):3<=o?n?parseFloat(t)-parseFloat(e):parseFloat(e)-parseFloat(t):0}),t.forEach(t=>tableControl.tBodies[0].appendChild(t)),e.setAttribute("data-sort-order",n?"Descendente":"Ascendente")})}),buttonControl.addEventListener("click",()=>{tableContainerControl.scrollIntoView({behavior:"smooth"})}),buttonTopControl.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});